"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6355],{8379:function(e,t,a){a.d(t,{O:function(){return s}});var n=a(57437),l=a(13495),r=a(24528);let s=e=>{let{credits:t,className:a,btnText:s="Generate"}=e;return(0,n.jsxs)("div",{className:(0,r.cn)("inline-flex items-center gap-2",a),children:[(0,n.jsx)("div",{children:s}),t&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"h-3.5 min-w-0.5 rounded-full bg-neutral-0/50 group-disabled:bg-neutral-900/50 dark:group-disabled:bg-neutral-0/50"}),(0,n.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,n.jsx)("span",{children:t}),(0,n.jsx)(l.Ss,{className:"size-4"})]})]})]})}},55872:function(e,t,a){a.d(t,{O:function(){return d.O},D:function(){return x}});var n=a(57437),l=a(2265),r=a(34124),s=a(81149),i=a(95401),o=a(24528),d=a(8379);let c=(0,l.createContext)({isLoading:!1}),u=e=>{let{children:t,value:a}=e;return(0,n.jsx)(c.Provider,{value:a,children:t})},m=()=>{let e=(0,l.useContext)(c);if(void 0===e)throw Error("useGenerateButtonContext must be used within a GenerateButtonProvider");return e},p=l.forwardRef((e,t)=>{let{credits:a,btnText:l,contentClassName:i,...c}=e,{isLoading:u}=m();return(0,n.jsx)(s.z,{size:"sm",variant:"ai",ref:t,type:"submit",id:"generateBtn",className:(0,o.cn)("w-full opacity-100",{"group-hover:opacity-0":u}),...c,children:u?(0,n.jsx)(r.$,{className:"size-5"}):(0,n.jsx)(d.O,{credits:a,btnText:l})})});p.displayName="GenerateButton";let x=Object.assign(e=>{let{children:t,isLoading:a,className:l}=e;return(0,n.jsx)("div",{className:(0,o.cn)("group relative flex h-max",l),children:(0,n.jsx)(u,{value:{isLoading:a},children:t})})},{Button:p,Cancel:e=>{let{handleCancel:t,containerClassName:a,...l}=e,{isLoading:r}=m();return r?(0,n.jsx)(i.WithGenericTooltip,{content:"Cancellation will still consume token",children:(0,n.jsx)("div",{className:(0,o.cn)("absolute left-0 top-0 z-0 w-full opacity-0 hover:opacity-100 group-hover:opacity-100",a),children:(0,n.jsx)(s.z,{size:"sm",className:"w-full",variant:"secondary",type:"button",onClick:t,...l,children:"Cancel"})})}):null}})},34468:function(e,t,a){a.d(t,{GenericTab:function(){return o},GenericTabContent:function(){return m},GenericTabList:function(){return d},GenericTabTrigger:function(){return c},p:function(){return u}});var n=a(57437),l=a(62447),r=a(16526),s=a(2265),i=a(24528);let o=l.fC,d=s.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(l.aV,{ref:t,className:(0,i.cn)("inline-flex w-full items-center justify-start gap-2",a),...r})});d.displayName=l.aV.displayName;let c=s.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(l.xz,{ref:t,className:(0,i.cn)("inline-flex h-8 items-center justify-center gap-2 whitespace-nowrap rounded-full px-4 py-1.5 text-sm font-medium text-neutral-200 transition-all focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-neutral-30 data-[state=active]:text-neutral-900 dark:text-neutral-40 dark:data-[state=active]:bg-neutral-700 dark:data-[state=active]:text-neutral-0",a),...r})});c.displayName=l.xz.displayName;let u=s.forwardRef((e,t)=>{let{className:a,children:s,isActive:o=!1,layoutId:d,activeProps:c={},...u}=e,{className:m,...p}=c;return(0,n.jsxs)(l.xz,{ref:t,className:(0,i.cn)("relative inline-flex h-8 items-center justify-center gap-2 whitespace-nowrap rounded-full px-4 py-1.5 text-sm font-medium text-neutral-200 transition-all focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50 dark:text-neutral-40",a),...u,children:[o&&(0,n.jsx)(r.E.span,{layoutId:d,className:(0,i.cn)("absolute inset-0 rounded-xl bg-neutral-0 text-neutral-900 shadow-[0px_3px_1px_0px_rgba(0,_0,_0,_0.04),_0px_3px_8px_0px_rgba(0,_0,_0,_0.12)] dark:bg-neutral-800 dark:text-neutral-0",m),transformTemplate:(e,t)=>{var a;let[,n]=null!==(a=t.match(/translate3d\(([^,]+),/))&&void 0!==a?a:[];return n?"translateX(".concat(n,")"):t},transition:{type:"spring",bounce:.2,duration:.6},...p}),s]})});u.displayName=l.xz.displayName;let m=s.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(l.VY,{ref:t,className:a,...r})});m.displayName=l.VY.displayName},35739:function(e,t,a){a.d(t,{s:function(){return _},N:function(){return C}});var n=a(57437),l=a(2265),r=a(24528);let s=(0,a(12218).j)("relative flex w-full transition-colors duration-500 max-w-[732px] flex-col rounded-[20px] p-3 shadow-[0px_10px_20px_0px_rgba(0,_0,_0,_0.08)] aria-disabled:pointer-events-none aria-disabled:after:block after:absolute after:inset-0 after:hidden after:bg-black/20 after:rounded-[20px]",{variants:{darkVariant:{"dark-v1":"dark:bg-neutral-800","dark-v2":"dark:bg-neutral-900"},lightVariant:{"light-v1":"bg-neutral-0"}},defaultVariants:{darkVariant:"dark-v1",lightVariant:"light-v1"}});var i=a(41926),o=a(38491),d=a(52266),c=a(69799),u=a(8127),m=a(76015),p=a(82442),x=a(19422);let g=Object.values(i.pI);var f=a(34468);let h=e=>{let{className:t}=e;return(0,n.jsx)("svg",{width:"20",height:"21",fill:"none",viewBox:"0 0 20 21",className:t,children:(0,n.jsx)("path",{d:"m14.935 12.165 2.916-2.917a1.867 1.867 0 0 0 0-2.5l-4.166-4.1a1.867 1.867 0 0 0-2.5 0l-2.85 2.85M5 15.498h.009m3.325-3.333h.008m4.158-6.667h.009M15 7.998h.009m-11.675.834H10c.92 0 1.667.746 1.667 1.666v6.667c0 .92-.746 1.667-1.667 1.667H3.335c-.92 0-1.667-.747-1.667-1.667v-6.667c0-.92.746-1.666 1.667-1.666Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})};var v=a(10733),b=a(47802),j=a(81149),N=a(95401),y=a(79954);let k=l.forwardRef((e,t)=>{let{children:a,className:l,lightVariant:i,darkVariant:o,...d}=e;return(0,n.jsx)("div",{ref:t,className:(0,r.cn)(s({lightVariant:i,darkVariant:o,className:l})),...d,children:a})});k.displayName="PromptWrapper";let I=e=>{let{footerEnd:t}=e;return t?(0,n.jsx)("div",{className:"flex items-center gap-2",children:t}):null},w=e=>{let{footerStart:t}=e;return t?(0,n.jsx)("div",{className:"flex items-center gap-2",children:t}):null},C={Wrapper:k,TextArea:e=>{let{formHook:t,name:a,textAreaProps:r,generateBtnRef:s,containersProps:i,customRandomPrompts:o}=e,[d,c]=(0,l.useState)(!1),{ref:u,...m}=t.register(a),p=(0,v.Td)()(e=>e.randomPromptLibrary),x=o||p;return(0,n.jsxs)("div",{className:"relative h-[76px] w-full rounded-[10px]",...i,children:[(0,n.jsx)(y.K,{size:"xl",darkVariant:"dark-v2",lightVariant:"light-v1",className:"h-full w-full resize-none p-2 pl-3 indent-[38px] text-sm",placeholder:"Try something like “A cat flying in the sky wearing superman suit”",onScroll:e=>c(e.currentTarget.scrollTop>=10),onKeyDown:e=>{if("Enter"===e.key&&!e.shiftKey&&(e.preventDefault(),null==s?void 0:s.current)){var t;null==s||null===(t=s.current)||void 0===t||t.click()}},...m,...r,ref:e=>{u(e),(null==r?void 0:r.ref)&&r.ref(e)}}),!d&&(0,n.jsxs)("div",{className:"absolute left-3 top-2 mr-2 flex items-center gap-2 text-neutral-900 dark:text-neutral-0",children:[(0,n.jsx)(N.WithGenericTooltip,{content:"Random Prompt",children:(0,n.jsx)(j.z,{size:"none",variant:"none",type:"button",className:"size-5",onClick:()=>{let e=null==x?void 0:x.paragraphs;if(!e)return;let n=(0,b.EN)(e.length),l=e[n];t.setValue(a,l.text,{shouldDirty:!0,shouldValidate:!0}),t.setValue("random_prompt_clicked",!0)},disabled:null==r?void 0:r.disabled,children:(0,n.jsx)(h,{className:"size-4"})})}),(0,n.jsx)("div",{className:"h-2 w-0.5 rounded-sm bg-neutral-50 opacity-30 dark:bg-neutral-0"})]})]})},Footer:e=>{let{footerStart:t,footerEnd:a,footerClassName:l}=e;return(0,n.jsxs)("div",{className:(0,r.cn)("mt-4 flex h-9 justify-between",l),children:[(0,n.jsx)(w,{footerStart:t}),(0,n.jsx)(I,{footerEnd:a})]})},Tabs:e=>{let{tabs:t,onTabChange:a,selectedTab:l}=e;return(0,n.jsxs)(f.GenericTab,{className:"w-full",value:l,onValueChange:e=>a(e),children:[(0,n.jsx)(f.GenericTabList,{className:"flex h-12 flex-shrink-0 items-start gap-4 self-stretch pl-2",children:t.map(e=>(0,n.jsx)(f.p,{value:e.value,className:"p-0 text-neutral-200 data-[state=active]:text-neutral-900 dark:text-neutral-60 dark:data-[state=active]:text-neutral-0",layoutId:"prompt-tabs",isActive:l===e.value,activeProps:{className:"h-0.5 w-full shadow-none top-auto bg-neutral-900 dark:bg-neutral-0 rounded-none"},children:(0,n.jsx)("div",{className:"relative",children:e.label})},e.value))}),t.map(e=>(0,n.jsx)(f.GenericTabContent,{value:e.value,className:"hide-scrollbar h-full max-h-[calc(100vh-104px-52px-16px-48px-40px-16px)] overflow-hidden overflow-y-auto",children:e.content},e.value))]})},UploadImage:e=>{let{image:t,croppedImage:a,aspectRatios:r=g,onDeleteImage:s=()=>{},onAddResult:i,onSelectImage:f}=e,{isModalOpen:h,setIsModalOpen:v,openModal:b}=(0,x.d)(!1),j=!!a,[N,y]=(0,l.useState)(),[k,I]=(0,l.useState)(t),[w,C]=(0,l.useState)(r[0]),[_,T]=w.value.split(":"),z=Number(_)/Number(T),E=!(null==N?void 0:N.width)&&!(null==N?void 0:N.height),S=()=>{t&&URL.revokeObjectURL(t),s()},A=e=>{v(e),I(null)},R=async()=>{try{if(!N||!k)throw Error("Please select an image and crop it");let e=await (0,u.cA)(N,k,z);i(e,w.value),A(!1)}catch(e){p.Am.error("An error occurred")}},G=async e=>{if(e.target.files&&e.target.files.length>0){S();let t=await (0,u.tw)(e.target.files[0]);f(t),I(t),b()}};return(0,n.jsxs)(n.Fragment,{children:[j?(0,n.jsx)(d.f,{currentImage:null!=a?a:"",handleSelectFile:G,handleDeleteImage:S,showCrop:!1,className:"h-[280px] w-full rounded-[12px]"}):(0,n.jsx)(c.X,{handleSelectFile:G,placeholder:"Upload image to generate (JPEG, PNG)",size:"promptBox",variant:"v4"}),(0,n.jsx)(m.$E,{open:h,onOpenChange:A,children:(0,n.jsx)(o.f,{crop:N,setCrop:y,addResult:R,selectedFile:null!=k?k:"",aspectRatios:r,hasNoCropSelection:E,selectedAspectRatio:w,setSelectedAspectRatio:C})})]})}},_=l.forwardRef((e,t)=>{let{className:a,footerStart:l,footerEnd:r,lightVariant:s,darkVariant:i,generateBtnRef:o,promptTextAreaProps:d,footerClassName:c,customRandomPrompts:u,...m}=e;return(0,n.jsxs)(C.Wrapper,{lightVariant:s,darkVariant:i,className:a,ref:t,...m,children:[(0,n.jsx)(C.TextArea,{...d,generateBtnRef:o,customRandomPrompts:u}),(0,n.jsx)(C.Footer,{footerStart:l,footerEnd:r,footerClassName:c})]})})},56570:function(e,t,a){a.d(t,{f:function(){return f}});var n=a(57437),l=a(39343),r=a(64756),s=a(2265),i=a(1255),o=a(55872),d=a(24019),c=a(32057),u=a(13495),m=a(43664),p=a(81149),x=a(24528);let g=(0,s.forwardRef)((e,t)=>{let{name:a,value:l,disabled:g,isLoading:f,onCancel:h,generateBtnId:v,pseudoDisabled:b,shouldOverrideExpand:j,toolComponents:N,tokenCost:y,isRenderedInsideCanvasModal:k=!1,onGenerateCallback:I=()=>{},containerProps:w={},...C}=e,_=(0,s.useId)(),[T,z]=(0,s.useState)(!1),E=g||!l||(null==l?void 0:l.length)===0,{activeTool:S}=(0,c.B)(),{className:A,...R}=w,G=k||T||j||l.length>0?"expanded":"normal";return(0,n.jsxs)("label",{htmlFor:_,"data-state":G,onFocus:()=>z(!0),onMouseEnter:()=>z(!0),onBlur:e=>z(e.currentTarget.matches(":hover")),onMouseLeave:()=>{var e;(null===(e=document.activeElement)||void 0===e?void 0:e.id)!==_&&z(!1)},className:(0,x.cn)("hide-scrollbar prompt-wrapper group flex w-full max-w-[1024px] cursor-text justify-center rounded-[20px] bg-neutral-0 p-2.5 pl-6 shadow-[0px_10px_20px_0px_rgba(0,0,0,0.05)] ring-inset ring-primary-500 transition-all duration-500 focus-within:ring-1 data-[state=expanded]:h-auto data-[state=expanded]:flex-col  data-[state=normal]:flex-col data-[state=expanded]:items-end data-[state=normal]:items-center data-[state=expanded]:overflow-scroll dark:bg-neutral-900 dark:shadow-none dark:ring-primary-400",{"ring-1":j,"flex h-[122px] max-h-[122px] min-h-[122px] flex-col items-center justify-end gap-3 overflow-hidden rounded-xl pb-2 pl-3 pr-2 pt-3 dark:bg-neutral-800 dark:focus-within:!bg-neutral-800 dark:hover:bg-neutral-700":k,"relative z-50 h-[242px] max-h-[242px] min-h-[242px] rounded-none rounded-bl-xl rounded-br-xl border-t ring-0 dark:border-neutral-700 dark:ring-0 dark:hover:bg-neutral-800":k&&j},A),...R,children:[(0,n.jsx)(r.fC,{type:"single",value:G,className:"flex w-full flex-1",children:(0,n.jsx)(r.ck,{value:"expanded",className:"w-full",children:(0,n.jsx)(r.VY,{className:"group/og-accordion w-full overflow-hidden text-sm transition-all data-[state=open]:animate-accordion-down",children:(0,n.jsx)(i.Z,{id:_,ref:t,name:a,minRows:1,value:l,onKeyDown:e=>{if(f){e.preventDefault();return}if("Enter"===e.key&&!e.shiftKey){var t,a;if(e.preventDefault(),E||f)return;m.c.triggerEventUsingElementId(v,void 0,{[d.L.TOOL_USED]:S}),I(),null===(a=e.currentTarget)||void 0===a||null===(t=a.form)||void 0===t||t.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))}},placeholder:"Describe what you want to see with phrases, and separate them with commas.",maxRows:k&&!j?3:7,className:(0,x.cn)("scrollbar__variant2 mb-auto w-full resize-none border-none !bg-inherit bg-neutral-0 pl-0 text-sm font-medium leading-5 text-neutral-900 placeholder-neutral-200 outline-none transition-colors duration-500  focus:ring-0  dark:bg-neutral-900 dark:text-neutral-0 dark:placeholder-neutral-80",{"focus:placeholder-neutral-900 focus:placeholder-transparent group-data-[state=expanded]:placeholder-neutral-900 dark:group-data-[state=expanded]:placeholder-neutral-0":!k,"p-0 pr-1 text-xs/[18px] font-normal dark:focus:!placeholder-neutral-80 dark:group-hover:placeholder-neutral-0":k,"dark:group-hover:bg-neutral-800":k&&j}),...C})})})}),(0,n.jsxs)("div",{className:(0,x.cn)("mt-auto flex w-full items-center justify-end gap-2",{"mt-0 h-9":k}),children:[(0,n.jsx)("label",{htmlFor:_,className:(0,x.cn)("w-full border-none p-0 text-sm font-medium leading-5 text-neutral-200 outline-none transition-all duration-0 focus:text-neutral-900 focus:text-transparent focus:ring-0 group-data-[state=expanded]:opacity-0 group-data-[state=normal]:opacity-100 dark:bg-neutral-900 dark:text-neutral-80",{hidden:k}),children:"Describe what you want to see with phrases, and separate them with commas."}),(0,n.jsx)("div",{"data-state":G,className:(0,x.cn)("mr-0 flex items-center justify-center gap-2 opacity-100 data-[state=normal]:mr-2 data-[state=normal]:opacity-0",{"gap-1":k}),children:N}),(0,n.jsx)("div",{"data-state":G,className:"mr-0 flex items-center justify-center data-[state=expanded]:mr-2 data-[state=expanded]:hidden",children:(0,n.jsx)(p.z,{variant:"ghost-secondary",size:"icon-xl",asChild:!0,children:(0,n.jsx)("div",{children:(0,n.jsx)(u.Rd,{className:"size-6"})})})}),(0,n.jsxs)(o.D,{isLoading:null!=f&&f,className:(0,x.cn)("h-10 min-w-[141px]",{"h-9":k}),children:[(0,n.jsx)(o.D.Button,{credits:y,disabled:b,onClick:e=>{if(f){e.preventDefault();return}I(),m.c.triggerEventUsingElementId(v,void 0,{[d.L.TOOL_USED]:S})},size:k?"sm":"md"}),(0,n.jsx)(o.D.Cancel,{handleCancel:h,size:k?"sm":"md"})]})]})]})});g.displayName="GenericPromptInputAlt";let f=e=>{let{formHook:{control:t},name:a,disabled:r=!1,...s}=e;return(0,n.jsx)(l.Qr,{control:t,name:a,render:e=>{let{field:{ref:t,...a}}=e;return(0,n.jsx)(g,{...a,...s,ref:t,disabled:r})}})}},28643:function(e,t,a){a.d(t,{j:function(){return l}});var n=a(57437);let l=e=>{let{isTruncated:t,...a}=e;return(0,n.jsxs)("button",{type:"button",className:"ml-1 text-neutral-200 dark:text-neutral-80",...a,children:[" ",t?" See less":"...See more"]})}},76286:function(e,t,a){a.d(t,{c:function(){return i}});var n=a(57437),l=a(95428),r=a(24528),s=a(28643);let i=e=>{let{prompt:t,className:a}=e,{isTruncated:i,text:o,toggleTruncatedText:d,hasMoreText:c}=(0,l.K)(t);return(0,n.jsxs)("div",{className:(0,r.cn)("scrollbar__alt max-h-[250px] overflow-y-auto text-sm font-medium text-neutral-900 dark:text-neutral-0",a),children:[(0,n.jsx)("span",{children:o}),c&&(0,n.jsx)(s.j,{isTruncated:i,onClick:d})]})}},25701:function(e,t,a){var n,l;a.d(t,{L:function(){return n}}),(l=n||(n={})).TEXT_TO_IMAGE="Text to Image",l.IDEATE="Ideate",l.REALTIME_GENERATION="Realtime Generation",l.AI_VIDEO_GENERATED="Video Generation",l.CREATIVE_ENHANCE="Creative Upscaler",l.IMAGE_REMIX="Image Remix",l.CHARACTER_CONSISTENCY="Character Consistency",l.TEXT_TO_IMAGE_V2="Text to Image V2",l.CANVAS="Canvas"},62372:function(e,t,a){a.d(t,{_C:function(){return s},kc:function(){return i}});var n=a(57437),l=a(2265);let r=(0,l.createContext)({animateImageLoadingState:{},setAnimateImageLoadingState:()=>{},deleteStateAnimateImageLoadingState:()=>{}}),s=e=>{let{children:t}=e,[a,s]=(0,l.useState)({}),i=(e,t)=>{s(a=>({...a,[e]:t}))},o=e=>{s(t=>{let a={...t};return delete a[e],a})},d=(0,l.useMemo)(()=>({animateImageLoadingState:a,deleteStateAnimateImageLoadingState:o,setAnimateImageLoadingState:i}),[a]);return(0,n.jsx)(r.Provider,{value:d,children:t})},i=()=>{let e=(0,l.useContext)(r);if(!e)throw Error("useAnimateImageLoadingStateContext must be used within a AnimateImageLoadingProvider");return e}},46409:function(e,t,a){var n,l;a.d(t,{R:function(){return n}}),(l=n||(n={})).LAST_EDITED="lastEdited",l.OLDEST_FIRST="oldestFirst",l.NEWEST_FIRST="newestFirst"},55365:function(e,t,a){a.d(t,{B:function(){return d}});var n=a(57437),l=a(2265),r=a(52890),s=a.n(r),i=a(35739),o=a(24528);let d=e=>{let{className:t,isDraggingAllowed:a=!0,customRandomPrompts:r,shouldFocus:d=!1,onFocusComplete:c=()=>{},promptTextAreaProps:u,...m}=e,p=(0,l.useRef)(null),x=(0,l.useRef)(null);return(0,l.useEffect)(()=>{d&&x.current&&(x.current.focus(),c())},[c,d]),(0,n.jsx)(s(),{disabled:!a,nodeRef:p,bounds:"body",onStart:e=>{if(e.target!==p.current)return!1},children:(0,n.jsx)(i.s,{ref:p,className:(0,o.cn)("fixed bottom-4 mx-auto cursor-move",{"cursor-default":!a},t),...m,customRandomPrompts:r,promptTextAreaProps:{...u,textAreaProps:{...u.textAreaProps,ref:e=>{x.current=e}}}})})}},40736:function(e,t,a){a.d(t,{G:function(){return o}});var n=a(57437);a(2265);var l=a(83359),r=a(54361),s=a(81149),i=a(82442);let o=e=>{let{imageId:t,children:a,handleDeleteImage:o,customModelControls:d,modalContainer:c=document.body}=e,u=(0,r.d)(),{isModalOpen:m,setIsModalOpen:p}=null!=d?d:u,x=async()=>{try{o(t),p(!1)}catch(e){console.error(e),i.Am.error("An error occurred")}};return(0,n.jsxs)(l.$E,{open:m,onOpenChange:p,children:[a&&(0,n.jsx)(l.$c,{asChild:!0,children:a}),(0,n.jsxs)(l.Yk,{container:null!=c?c:void 0,className:"w-[460px] min-w-[460px] max-w-[460px]",children:[(0,n.jsx)(l.Zh,{}),(0,n.jsx)(l._w,{children:(0,n.jsx)(l.mp,{children:"Delete Result"})}),(0,n.jsx)(l.DQ,{className:"p-6 pt-[18px]",children:(0,n.jsx)("p",{className:"text-sm",children:"On confirmation result will be permanently deleted. Are you sure you want to delete this image?"})}),(0,n.jsx)(l.vb,{children:(0,n.jsx)(s.z,{type:"submit",onClick:x,children:"Delete result"})})]})]})}},46773:function(e,t,a){a.d(t,{c:function(){return et}});var n=a(57437),l=a(2265),r=a(41926),s=a(24528),i=a(8662),o=a(16838),d=a(13495);let c=e=>{let{onClick:t}=e;return(0,n.jsx)("button",{"aria-label":"Next Button",className:"absolute right-4 top-1/2 z-50 rounded-xl bg-neutral-0 bg-opacity-[0.24] p-2.5 outline-none backdrop-blur-lg transition-all duration-500 hover:bg-neutral-0 hover:bg-opacity-[0.44]",onClick:t,type:"button",children:(0,n.jsx)(d.aK,{className:"text-neutral-900 dark:text-neutral-0"})})},u=e=>{let{onClick:t}=e;return(0,n.jsx)("button",{"aria-label":"Previous Button",className:"absolute left-4 top-1/2 z-50 rotate-180 rounded-xl bg-neutral-0 bg-opacity-[0.24] p-2.5 outline-none backdrop-blur-lg transition-all duration-500 hover:bg-opacity-[0.44]",onClick:t,type:"button",children:(0,n.jsx)(d.aK,{className:"text-neutral-900 dark:text-neutral-0"})})},m=e=>{let{onClick:t,isSelected:a,index:r}=e,i=(0,l.useRef)(null);return(0,l.useEffect)(()=>{a&&setTimeout(()=>{var e;null===(e=document.getElementById("image-carousel-indicator-".concat(r)))||void 0===e||e.scrollIntoView({behavior:"smooth",inline:"center"})},0)},[r,a]),(0,n.jsx)("button",{ref:i,id:"image-carousel-indicator-".concat(r),"aria-label":"Image#".concat(r),type:"button",onClick:t,className:(0,s.cn)("h-2 min-h-2 w-[18px] min-w-[18px] rounded-full bg-neutral-0 bg-opacity-[0.24] opacity-100 backdrop-blur-[6px]",{"bg-opacity-100":a})})},p=e=>{let{images:t,className:a="",currentImgIndex:d,onChange:p,aspectRatio:x,loaderVariant:g="skeleton"}=e,f=(0,l.useRef)(null),h=r.IK[x];return(0,l.useEffect)(()=>{var e;null===(e=f.current)||void 0===e||e.forceFocus()},[]),(0,n.jsx)("div",{className:"grid flex-1 place-items-center overflow-hidden bg-neutral-20 dark:bg-neutral-900",children:(0,n.jsx)(i.lr,{infiniteLoop:!0,ref:f,useKeyboardArrows:!0,showStatus:!1,showThumbs:!1,className:"overflow-hidden",selectedItem:d,showIndicators:t.length>1,renderArrowNext:e=>t.length>1?(0,n.jsx)(c,{onClick:e}):null,renderArrowPrev:e=>t.length>1?(0,n.jsx)(u,{onClick:e}):null,onChange:e=>{null==p||p(e)},renderIndicator:(e,t,a)=>(0,n.jsx)(m,{onClick:e,isSelected:t,index:a}),children:t.map(e=>e.isLoading?(0,n.jsx)("div",{className:"grid size-full place-items-center",children:(0,n.jsx)("div",{className:(0,s.cn)("w-auto",h.aspectRatio),style:{minHeight:"".concat(1.8*h.height,"px")},children:(0,n.jsx)(o.S3,{variant:g})},e.id)},e.id):(0,n.jsx)("div",{className:"size-full",children:(0,n.jsx)("img",{className:(0,s.cn)("size-full object-contain",a),src:e.isUpscaled?e.upscaleSrc:e.src,alt:e.id})},e.id))})})};var x=a(83359),g=a(80732),f=a(98090),h=a(45715),v=a(96994),b=a(85951),j=a(10733),N=a(81750),y=a(14125),k=a(81149);let I=e=>{var t,a,l;let{collection:r,currentImgIndex:s,handleImageUpscale:i}=e,{upscale:o}=(0,j.Td)()(e=>e.fullViewModalSettings),d=r.images[s],{page:c,source:u}=(0,v.V)(),{aggregator:m}=(0,b.O)(),p=(0,N.m8)()(e=>e.subscription),{stripeSubscription:x,isSubscriptionActive:I}=(0,y.L)(p),w=null==x?void 0:null===(a=x.StripePrice)||void 0===a?void 0:null===(t=a.StripeProduct)||void 0===t?void 0:t.name,C=null==x?void 0:null===(l=x.StripePrice)||void 0===l?void 0:l.billingInterval,_={page_name:c,source:u,variant:h.x.TEXT_IMAGE_V2,user_account_status:I?"Premium":"Free",user_plan:w,user_plan_period:C};return(0,n.jsxs)("div",{className:"flex items-center justify-between gap-4 self-stretch",children:[(0,n.jsx)("h6",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-0",children:"Upscale"}),(0,n.jsxs)("div",{className:"flex w-full max-w-[280px] items-start gap-2",children:[(0,n.jsx)(k.z,{size:"md",variant:"secondary",className:"flex-1 disabled:pointer-events-none",onClick:()=>{m.log(g.H.clevertap.click.withProperties({..._,trigger:f.U.UPSCALE_SUBTLE_v2})),i(d.id,o.subtle)},disabled:d.isLoading,children:"Subtle"}),(0,n.jsx)(k.z,{size:"md",variant:"secondary",className:"flex-1 disabled:pointer-events-none",onClick:()=>{m.log(g.H.clevertap.click.withProperties({..._,trigger:f.U.UPSCALE_CREATIVE_V2})),i(d.id,o.creative)},disabled:d.isLoading,children:"Creative"})]})]})},w=e=>{var t,a,l;let{collection:r,currentImgIndex:s,handleImageVariate:i,handleNavigateToFirstImage:o}=e,{variate:d}=(0,j.Td)()(e=>e.fullViewModalSettings),c=r.images[s],{page:u,source:m}=(0,v.V)(),{aggregator:p}=(0,b.O)(),x=(0,N.m8)()(e=>e.subscription),{stripeSubscription:I,isSubscriptionActive:w}=(0,y.L)(x),C=null==I?void 0:null===(a=I.StripePrice)||void 0===a?void 0:null===(t=a.StripeProduct)||void 0===t?void 0:t.name,_=null==I?void 0:null===(l=I.StripePrice)||void 0===l?void 0:l.billingInterval,T={page_name:u,source:m,variant:h.x.TEXT_IMAGE_V2,user_account_status:w?"Premium":"Free",user_plan:C,user_plan_period:_};return(0,n.jsxs)("div",{className:"flex items-center justify-between gap-4 self-stretch",children:[(0,n.jsx)("h6",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-0",children:"Variate"}),(0,n.jsxs)("div",{className:"flex w-full max-w-[280px] items-start gap-2",children:[(0,n.jsx)(k.z,{size:"md",variant:"secondary",className:"flex-1 disabled:pointer-events-none",onClick:()=>{p.log(g.H.clevertap.click.withProperties({...T,trigger:f.U.VARIATE_SUBTLE_V2})),null==i||i(c.id,d.subtle),o()},disabled:c.isLoading,children:"Subtle"}),(0,n.jsx)(k.z,{size:"md",variant:"secondary",className:"flex-1 disabled:pointer-events-none",onClick:()=>{p.log(g.H.clevertap.click.withProperties({...T,trigger:f.U.VARIATE_STRONG_V2})),null==i||i(c.id,d.strong),o()},disabled:c.isLoading,children:"Strong"})]})]})},C=e=>{let{currentImgIndex:t,collection:a,isVariationSupported:l,handleImageUpscale:r,handleImageVariate:s,handleNavigateToFirstImage:i}=e;return(0,n.jsxs)("div",{className:"flex flex-col items-start gap-4 self-stretch",children:[(0,n.jsx)("h6",{className:"font-medium text-neutral-900 dark:text-neutral-0",children:"Enhancements"}),(0,n.jsxs)("div",{className:"flex flex-col items-start gap-3 self-stretch",children:[(0,n.jsx)(I,{collection:a,currentImgIndex:t,handleImageUpscale:r}),l&&(0,n.jsx)(w,{collection:a,currentImgIndex:t,handleImageVariate:s,handleNavigateToFirstImage:i})]})]})},_=e=>{let{negativePrompt:t}=e;return(0,n.jsxs)("div",{className:"flex flex-col items-start gap-2",children:[(0,n.jsx)("h3",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-0",children:"Negative Prompt"}),(0,n.jsx)("p",{className:"w-full text-sm text-neutral-400 dark:text-neutral-60",children:null!=t?t:"-"})]})};var T=a(91606),z=a(76286),E=a(95401),S=a(82442),A=a(8792);let R=e=>{let{prompt:t}=e,[,a]=(0,T.m9)();return(0,n.jsxs)("div",{className:"flex flex-col items-start gap-2 self-stretch",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between self-stretch",children:[(0,n.jsx)("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-0",children:"Prompt"}),(0,n.jsx)(E.WithGenericTooltip,{content:"Copy",children:(0,n.jsx)(k.z,{size:"icon-sm",variant:"ghost-secondary",className:"bg-neutral-30 dark:bg-neutral-600",onClick:()=>{a(t).then(()=>S.Am.success("Prompt copied to clipboard!"))},children:(0,n.jsx)(A.TI,{className:"size-[18px] stroke-[2]"})})})]}),(0,n.jsx)(z.c,{className:"font-normal",prompt:t})]})};var G=a(62372),P=a(35127),L=a(69203),M=a(12811),V=a(43183),D=a(34124);let O=e=>{let{Icon:t,title:a,onClick:l=()=>{},isLoading:r=!1}=e;return(0,n.jsx)(k.z,{size:"none",variant:"secondary",className:(0,s.cn)("flex h-[68.5px] w-[89px] flex-col gap-2 rounded-lg py-2",{"pointer-events-none opacity-50":r}),onClick:l,children:r?(0,n.jsx)(D.$,{className:"size-6"}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"flex size-6 shrink-0 items-center justify-center",children:(0,n.jsx)(t,{className:"size-5"})}),(0,n.jsx)("span",{className:"text-xs/[18px] font-semibold",children:a})]})})},B=()=>{let{canScrollNext:e,canScrollPrev:t}=(0,V.o)();return(0,n.jsxs)(n.Fragment,{children:[t&&(0,n.jsx)(V.GenericCarouselPrevious,{className:"left-2 z-10 size-7 rounded-[9px] bg-neutral-0 p-[5px] shadow-[0px_10px_20px_0px_rgba(0,0,0,0.08)] dark:bg-neutral-900",variant:"none",size:"none",renderIcon:(0,n.jsx)(d.OE,{})}),e&&(0,n.jsx)(V.GenericCarouselNext,{className:"right-2 z-10 size-7 rounded-[9px] bg-neutral-0 p-[5px] shadow-[0px_10px_20px_0px_rgba(0,0,0,0.08)] dark:bg-neutral-900",variant:"none",size:"none",renderIcon:(0,n.jsx)(A.XC,{})})]})},F=e=>{let{collection:t,currentImgIndex:a,handleAnimateImage:l=()=>{},handleEditImage:r=()=>{},handleRemoveBackground:s=()=>{}}=e,{animateImageLoadingState:i}=(0,G.kc)(),o=t.images[a],d=[{title:"Edit",Icon:M.d,onClick:()=>r({imageId:o.id,collectionId:t.id})},{title:"Remove Bg",Icon:L.A,onClick:()=>s({imageId:o.id,collectionId:t.id}),isLoading:!1},{title:"Animate",Icon:P.a,onClick:()=>{l({imageId:o.id,collectionId:t.id})},isLoading:i[o.id]}];return(0,n.jsxs)("div",{className:"flex flex-col items-start gap-4 self-stretch",children:[(0,n.jsx)("h6",{className:"font-medium text-neutral-900 dark:text-neutral-0",children:"Quick Actions"}),(0,n.jsxs)(V.GenericCarousel,{className:"w-full",children:[(0,n.jsx)(V.GenericCarouselContent,{className:"-ml-1",children:d.map(e=>(0,n.jsx)(V.GenericCarouselItem,{className:"basis-1/4 pl-1",children:(0,n.jsx)(O,{...e},e.title)},e.title))}),(0,n.jsx)(B,{})]})]})};var U=a(66648);let H=e=>{let{title:t,value:a,Icon:l,image:r}=e;return(0,n.jsxs)("div",{className:"flex flex-col items-start justify-start gap-2",children:[(0,n.jsx)("h3",{className:"flex items-center justify-start gap-1 text-sm font-medium text-neutral-900 dark:text-neutral-0",children:t}),(0,n.jsxs)("div",{className:"flex items-center gap-2 text-neutral-400 dark:text-neutral-60",children:[l&&(0,n.jsx)(l,{className:"size-6"}),!l&&r&&(0,n.jsx)("div",{className:"relative size-6 flex-shrink-0 overflow-hidden rounded",children:(0,n.jsx)(U.default,{src:null!=r?r:"",alt:t,fill:!0,className:"object-cover"})}),(0,n.jsx)("div",{className:"text-sm",children:null!=a?a:"-"})]})]})};var W=e=>{let{getSettingItems:t,collection:a,currentImgIndex:l}=e,r=t(a.images[l]);return(0,n.jsx)("div",{className:"grid grid-cols-3 gap-x-3 gap-y-4 xl:gap-x-12",children:r.map(e=>(0,n.jsx)(H,{...e},e.title))})},X=a(52247),Z=a(40736),K=a(12600),$=a(54361);let Y=e=>{let{collection:t,currentImgIndex:a,handleDeleteImage:l,setCurrentImgIndex:r,closeFullViewModal:s,onDownload:i}=e,o=t.images[a],{downloadImage:c}=(0,K.q)(o),u=(0,$.d)();return(0,n.jsxs)("div",{className:"flex h-10 items-center gap-1",children:[(0,n.jsx)(Z.G,{imageId:o.id,customModelControls:u,handleDeleteImage:e=>{1===t.images.length?s():0===a?r(0):a===t.images.length-1&&r(a-1),l(e)}}),(0,n.jsx)(E.WithGenericTooltip,{content:"Download",children:(0,n.jsxs)(k.z,{type:"button",size:"icon-xl",variant:"ghost-secondary",onClick:()=>{c(),null==i||i()},children:[(0,n.jsx)(d._8,{className:"stroke-[1.75]"}),(0,n.jsx)("span",{className:"sr-only",children:"Download Image"})]})}),(0,n.jsx)(E.WithGenericTooltip,{content:"Delete",children:(0,n.jsxs)(k.z,{type:"button",size:"icon-xl",variant:"ghost-secondary",className:"hover:text-error-500",onClick:u.openModal,children:[(0,n.jsx)(d.XH,{className:"stroke-[1.5]"}),(0,n.jsx)("span",{className:"sr-only",children:"Delete"})]})})]})},Q="".concat(X.v.ASSETS_CDN,"assets/images/imagine-icon.png"),q=e=>{var t;let{collection:a,currentImgIndex:l,handleDeleteImage:r,setCurrentImgIndex:s,closeFullViewModal:i,onDownload:o}=e,d=(0,N.m8)()(e=>e.user);return(0,n.jsxs)("div",{className:"flex h-20 items-center justify-between border-b border-neutral-20 p-4 dark:border-neutral-700",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("div",{className:"relative size-12",children:(0,n.jsx)(U.default,{fill:!0,alt:"profile-img",className:"size-full rounded-full",src:(null==d?void 0:d.profileImageKey)?"".concat(X.v.PROFILE_IMAGE_CDN,"/").concat(null==d?void 0:d.profileImageKey):Q})}),(0,n.jsx)("div",{className:"flex flex-col",children:(0,n.jsx)("p",{className:"font-medium text-neutral-900 dark:text-neutral-0",children:null!==(t=null==d?void 0:d.name)&&void 0!==t?t:"Imagine User"})})]}),(0,n.jsx)(Y,{collection:a,currentImgIndex:l,handleDeleteImage:r,setCurrentImgIndex:s,closeFullViewModal:i,onDownload:o})]})},J=e=>{var t;let{version:a,collection:l,currentImgIndex:r,handleDeleteImage:s,setCurrentImgIndex:i,closeFullViewModal:o,getSettingItems:d,isVariationSupported:c=!1,handleImageUpscale:u,handleImageVariate:m,handleNavigateToFirstImage:p,handleAnimateImage:g,handleEditImage:f,handleRemoveBackground:h,onDownload:v}=e,b=l.settings.negative_prompt||void 0;return(0,n.jsxs)("div",{className:"flex h-full w-full max-w-[350px] flex-col bg-neutral-0 dark:bg-neutral-800 xl:max-w-[430px]",children:[(0,n.jsx)("div",{className:"h-10 w-full shrink-0"}),(0,n.jsx)(q,{collection:l,currentImgIndex:r,handleDeleteImage:s,closeFullViewModal:o,setCurrentImgIndex:i,onDownload:v}),(0,n.jsxs)("div",{className:"scrollbar__alt flex flex-1 flex-col items-center justify-between gap-4 overflow-y-auto p-4",children:[(0,n.jsxs)("div",{className:"flex flex-col items-start gap-6 self-stretch",children:[(0,n.jsx)(R,{prompt:null!==(t=l.settings.prompt)&&void 0!==t?t:"-"}),(0,n.jsx)(W,{currentImgIndex:r,collection:l,getSettingItems:d}),!!b&&(0,n.jsx)(_,{negativePrompt:b})]}),(0,n.jsxs)("div",{className:"flex w-full flex-col items-start justify-end gap-6 self-start",children:["svi4"===a&&(0,n.jsx)(F,{collection:l,currentImgIndex:r,handleAnimateImage:g,handleEditImage:f,handleRemoveBackground:h}),(0,n.jsx)(C,{collection:l,currentImgIndex:r,handleImageUpscale:u,handleImageVariate:m,isVariationSupported:c,handleNavigateToFirstImage:p})]})]}),(0,n.jsx)(x.vb,{className:"hidden xl:block"})]})},ee=(0,a(12218).j)("flex",{variants:{type:{"full-screen":"full-screen h-screen w-screen",responsive:"responsive w-[min(calc(100vw-64px),1310px)] h-[min(calc(100vh-93px),834px)]"}},defaultVariants:{type:"full-screen"}}),et=e=>{let{collection:t,loaderVariant:a,getSettingItems:i,initialImageIndex:o,handleDeleteImage:d,closeFullViewModal:c,isVariationSupported:u=!1,handleImageUpscale:m,handleImageVariate:x,handleEditImage:g,handleRemoveBackground:f=()=>{},onDownload:h,handleAnimateImage:v=()=>{},type:b,className:j,version:N="legacy"}=e,[y,k]=(0,l.useState)(o),I=r.Py[t.settings.aspect_ratio],w=()=>{k(0)};return(0,n.jsxs)("div",{className:(0,s.cn)(ee({type:b,className:j})),children:[(0,n.jsx)(p,{className:I,images:t.images,loaderVariant:a,onChange:k,currentImgIndex:y,aspectRatio:t.settings.aspect_ratio}),(0,n.jsx)(J,{collection:t,currentImgIndex:y,getSettingItems:i,handleDeleteImage:d,closeFullViewModal:c,setCurrentImgIndex:k,isVariationSupported:u,handleImageUpscale:m,handleImageVariate:x,handleNavigateToFirstImage:w,handleAnimateImage:v,onDownload:h,handleEditImage:g,handleRemoveBackground:e=>{let{imageId:t,collectionId:a}=e;f(t,a,w)},version:N})]})}},69085:function(e,t,a){a.d(t,{h:function(){return r}});var n=a(57437),l=a(83359);let r=e=>{let{isFullViewOpen:t,children:a,closeFullViewModal:r}=e;return(0,n.jsx)(l.$E,{open:t,onOpenChange:e=>{e||r()},children:(0,n.jsxs)(l.Yk,{className:"has-[.responsive]:overflow-hidden has-[.full-screen]:rounded-none has-[.responsive]:rounded-2xl",overlayClassName:"backdrop-blur-[6px]",onInteractOutside:e=>{document.querySelector(".tf-v1-popup")&&e.preventDefault()},children:[(0,n.jsx)(l.Zh,{onClick:r}),a]})})}},16838:function(e,t,a){a.d(t,{dk:function(){return h},S3:function(){return o}});var n=a(57437),l=a(24528);let r="rounded-lg p-1 text-neutral-0 hover:bg-neutral-0 hover:bg-opacity-[0.24] size-7",s=e=>{let{children:t,className:a}=e;return(0,n.jsx)("div",{className:(0,l.cn)("absolute inline-flex flex-col items-center justify-center gap-1 rounded-lg bg-black bg-opacity-[0.34] p-1 opacity-0 backdrop-blur-sm transition-all duration-500 group-hover:opacity-100",a),children:t})};var i=a(34124);let o=e=>{let{variant:t="skeleton",className:a}=e;return"spinner"===t?(0,n.jsx)("div",{className:(0,l.cn)("flex size-full items-center justify-center rounded bg-neutral-30 dark:bg-neutral-900",a),children:(0,n.jsx)(i.$,{className:"size-[50px] border-primary-400"})}):(0,n.jsx)("div",{className:(0,l.cn)("size-full animate-pulse rounded bg-neutral-20 dark:bg-neutral-700",a)})};var d=a(13495),c=a(81149),u=a(95401),m=a(62372),p=a(12600),x=a(35127),g=a(69203),f=a(12811);let h={Root:e=>{let{id:t,image:a,children:r,className:s,isFocused:i,loaderVariant:d,handleFullView:c,isLoading:u=!1}=e;return(0,n.jsx)("div",{className:(0,l.cn)("w-full",s),children:a&&!u?(0,n.jsxs)("div",{id:t,className:"group relative flex size-full flex-shrink-0 rounded",children:[(0,n.jsx)("img",{alt:t,src:a,className:(0,l.cn)("size-full rounded transition-all duration-100",{"border-2 border-primary-500":i})}),(0,n.jsx)("button",{type:"button",onClick:c,"aria-label":"Open Full View",className:"absolute inset-0"}),r]}):(0,n.jsx)(o,{variant:d})})},VariateIcon:e=>{let{className:t}=e;return(0,n.jsx)("div",{className:(0,l.cn)("absolute right-0 top-0 rounded-bl-lg bg-black bg-opacity-[0.24] p-1 text-neutral-0 opacity-100 transition-all duration-500 group-hover:opacity-0",t),children:(0,n.jsx)(d.lw,{className:"size-5 stroke-[1.5]"})})},ToolbarButtons:e=>{let{image:t,onDownload:a,handleFullView:l,handleEditImage:o,handleAnimateImage:h,handleRemoveBackground:v}=e,{downloadImage:b}=(0,p.q)(t),{animateImageLoadingState:j}=(0,m.kc)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s,{className:"right-2 top-2",children:(0,n.jsx)(u.WithGenericTooltip,{content:"Download",genericTooltipContentProps:{side:"left"},children:(0,n.jsxs)(c.z,{size:"none",variant:"none",className:r,onClick:async()=>{await b(),null==a||a()},children:[(0,n.jsx)(d._8,{className:"stroke-[1.5]"}),(0,n.jsx)("span",{className:"sr-only",children:"Download"})]})})}),(0,n.jsx)(s,{className:"bottom-2 right-2",children:(0,n.jsx)(u.WithGenericTooltip,{content:"Full View",genericTooltipContentProps:{side:"bottom"},children:(0,n.jsxs)(c.z,{size:"none",variant:"none",onClick:l,className:r,children:[(0,n.jsx)(d.MZ,{className:"stroke-[1.5]"}),(0,n.jsx)("span",{className:"sr-only",children:"Full View"})]})})}),(0,n.jsx)(s,{className:"bottom-2 left-2 flex-row gap-2",children:(0,n.jsx)(u.WithGenericTooltip,{content:"Edit",genericTooltipContentProps:{side:"bottom"},children:(0,n.jsxs)(c.z,{size:"none",variant:"none",onClick:o,className:r,children:[(0,n.jsx)(f.d,{className:"size-4"}),(0,n.jsx)("span",{className:"sr-only",children:"Edit"})]})})}),(0,n.jsx)(s,{className:"bottom-2 left-[52px] flex-row gap-2",children:(0,n.jsx)(u.WithGenericTooltip,{content:"Remove Background",genericTooltipContentProps:{side:"bottom"},children:(0,n.jsxs)(c.z,{size:"none",variant:"none",onClick:v,className:r,children:[(0,n.jsx)(g.A,{className:"size-4"}),(0,n.jsx)("span",{className:"sr-only",children:"Remove Background"})]})})}),(0,n.jsx)(s,{className:"bottom-2 left-24 flex-row gap-2",children:(0,n.jsx)(u.WithGenericTooltip,{content:"Animate",genericTooltipContentProps:{side:"bottom"},children:(0,n.jsxs)(c.z,{size:"none",variant:"none",onClick:h,className:r,children:[j[t.id]?(0,n.jsx)(i.$,{className:"size-4"}):(0,n.jsx)(x.a,{className:"size-4"}),(0,n.jsx)("span",{className:"sr-only",children:"Animate"})]})})})]})},InteractionButtons:e=>{let{handleLike:t,handleDislike:a}=e;return(0,n.jsxs)(s,{className:"left-2 top-2",children:[(0,n.jsx)(u.WithGenericTooltip,{content:"Like",genericTooltipContentProps:{side:"left"},children:(0,n.jsxs)(c.z,{size:"none",variant:"none",onClick:t,className:r,children:[(0,n.jsx)(d.lb,{className:"stroke-[1.5]"}),(0,n.jsx)("span",{className:"sr-only",children:"Like"})]})}),(0,n.jsx)(u.WithGenericTooltip,{content:"Dislike",genericTooltipContentProps:{side:"left"},children:(0,n.jsxs)(c.z,{size:"none",variant:"none",onClick:a,className:r,children:[(0,n.jsx)(d.kZ,{className:"stroke-[1.5]"}),(0,n.jsx)("span",{className:"sr-only",children:"Dislike"})]})})]})},ManipulationButtons:e=>{let{handleUpscale:t,handleImageVariate:a,isUpscaled:i=!1,isImageVariateBtn:o=!0}=e;return(0,n.jsxs)(s,{className:"bottom-2 right-2",children:[(0,n.jsx)(u.WithGenericTooltip,{content:i?"Upscaled":"Upscale",genericTooltipContentProps:{side:"left"},children:(0,n.jsxs)(c.z,{size:"none",onClick:t,variant:i?"primary":"none",className:(0,l.cn)(r,{"bg-primary-500 hover:bg-primary-600 hover:bg-opacity-100 focus:bg-primary-500":i}),children:[(0,n.jsx)(d.yW,{className:"stroke-[1.5]"}),(0,n.jsx)("span",{className:"sr-only",children:"Upscale"})]})}),o&&(0,n.jsx)(u.WithGenericTooltip,{content:"Variate",genericTooltipContentProps:{side:"left"},children:(0,n.jsxs)(c.z,{size:"none",variant:"none",className:r,onClick:a,children:[(0,n.jsx)(d.lw,{className:"size-6 stroke-[1.5]"}),(0,n.jsx)("span",{className:"sr-only",children:"Variate"})]})})]})},OriginalImageThumbnail:e=>{let{image:t,className:a,handleClick:r}=e;return(0,n.jsxs)("div",{tabIndex:0,role:"button",onClick:r,onKeyDown:r,className:(0,l.cn)("group/og-image absolute bottom-2 left-2 overflow-hidden rounded-lg border border-neutral-0/[0.24] opacity-0 transition-all duration-500 group-hover:opacity-100",a),children:[(0,n.jsx)("div",{className:"absolute inset-0 flex items-center justify-center rounded-lg bg-black bg-opacity-60 opacity-0 transition-all duration-500 group-hover/og-image:opacity-100",children:(0,n.jsx)("span",{className:"text-base font-normal text-neutral-0",children:"Original"})}),t&&(0,n.jsx)("img",{src:t,alt:"Original",className:"size-full rounded-lg object-cover"})]})},HighlightLabel:e=>{let{children:t}=e;return(0,n.jsx)("div",{className:"absolute left-2 top-2 flex items-center justify-center gap-1 rounded-lg bg-black/[0.34] px-2 py-1 backdrop-blur-sm",children:(0,n.jsx)("span",{className:"text-center text-sm font-medium text-neutral-0",children:t})})}}},5641:function(e,t,a){a.d(t,{o:function(){return g}});var n=a(57437),l=a(16463),r=a(63218),s=a(60566),i=a(13495),o=a(10733),d=a(81750),c=a(47802),u=a(53574),m=a(81149),p=a(24528);let x={[r.H7.FROM_TEXT]:s.r.TEXT_TO_IMAGE_RANDOM_BTN,[r.H7.IMAGE_REMIX]:s.r.IMAGE_REMIX_RANDOM_BTN},g=e=>{let{name:t,formHook:a,customRandomPrompts:r,isRenderedInsideCanvasModal:s=!1}=e,g=(0,l.usePathname)(),f=(0,d.m8)()(e=>e.user),h=(0,o.Td)()(e=>e.randomPromptLibrary),v=r||h;return(0,n.jsx)(m.z,{type:"button",variant:"ghost-secondary",onClick:e=>{var n;e.preventDefault();let l=null==v?void 0:v.paragraphs;if(!l)return;let r=(0,c.EN)(l.length),s=l[r];a.setValue(t,s.text),a.setValue("random_prompt_clicked",!0),x[g]&&(0,u.iC)(x[g],null!==(n=null==f?void 0:f.email)&&void 0!==n?n:"")},size:s?"icon-lg":"icon-xl",children:(0,n.jsx)(i.Gb,{className:(0,p.cn)("size-6 stroke-[1.5]",{"size-[18px]":s})})})}},37079:function(e,t,a){a.d(t,{w:function(){return P}});var n=a(57437),l=a(16463),r=a(2265),s=a(55872),i=a(56570),o=a(63218),d=a(60566),c=a(32057),u=a(55365),m=a(54361),p=a(80163),x=a(81750),g=a(50473),f=a(53574),h=a(24528),v=a(5641),b=a(39343),j=a(27271),N=a(13495),y=a(81149),k=a(78764),I=a(34468),w=a(10733);let C=e=>{let{tag:t,isSelected:a,onClick:l,isRenderedInsideCanvasModal:r}=e;return(0,n.jsxs)("button",{type:"button",onClick:l,className:(0,h.cn)("flex justify-center rounded-[100px] border border-solid border-neutral-40 bg-neutral-0 px-3 py-2 text-xs font-medium text-neutral-900 hover:bg-neutral-20 dark:border-neutral-800 dark:bg-neutral-900 dark:text-neutral-0 dark:hover:border-neutral-700 dark:hover:bg-neutral-800",{"gap-1 border-primary-500 bg-primary-500 bg-opacity-[0.15] pr-2 hover:border-primary-500 hover:bg-primary-500 hover:bg-opacity-[0.15] dark:border-primary-400 dark:bg-primary-400 dark:bg-opacity-[0.15]  dark:hover:border-primary-400 dark:hover:bg-primary-400 dark:hover:bg-opacity-[0.15]":a,"border px-2.5 py-[5px] transition duration-500 dark:border-neutral-700 dark:bg-neutral-800 dark:bg-opacity-100 dark:hover:border-neutral-600 dark:hover:bg-neutral-700":r,"dark:border-primary-400 dark:bg-primary-400 dark:bg-opacity-[0.15] dark:hover:border-primary-400 dark:hover:bg-primary-400 dark:hover:bg-opacity-[0.15]":r&&a}),children:[(0,n.jsx)("p",{children:t}),a&&(0,n.jsx)("button",{"aria-label":"Remove tag",type:"button",className:"flex size-4 items-center justify-center rounded-full transition-colors duration-500 hover:bg-neutral-50 dark:hover:bg-neutral-600",children:(0,n.jsx)(N.DX,{className:"size-3"})})]})},_=["data-[top-scroll=true]:[mask-image:linear-gradient(0deg,#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]","data-[bottom-scroll=true]:[mask-image:linear-gradient(180deg,#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]","data-[top-bottom-scroll=true]:[mask-image:linear-gradient(#000,#000,transparent_0,#000_var(--scroll-shadow-size),#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]"],T=["data-[left-scroll=true]:[mask-image:linear-gradient(270deg,#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]","data-[right-scroll=true]:[mask-image:linear-gradient(90deg,#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]","data-[left-right-scroll=true]:[mask-image:linear-gradient(to_right,#000,#000,transparent_0,#000_var(--scroll-shadow-size),#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]"],z=(e,t)=>{var a,n;return t[e]&&null!==(n=null===(a=t[e])||void 0===a?void 0:a.size)&&void 0!==n?n:0},E=e=>{let{tags:t,setTags:a,sortTags:l,category:r,setCategory:s,isRenderedInsideCanvasModal:i=!1,onCloseModal:o=()=>{}}=e,d=(0,w.Td)()(e=>e.promptKeywords),c=(e,n)=>{var l,r,s;let i={...t};i[e]=i[e]||new Set,(null===(l=i[e])||void 0===l?void 0:l.has(n))?null===(r=i[e])||void 0===r||r.delete(n):i[e]=new Set([...Array.from(null!==(s=i[e])&&void 0!==s?s:[]),n]),a(i)};return(0,n.jsxs)(I.GenericTab,{defaultValue:r,onValueChange:s,value:r,children:[(0,n.jsxs)("div",{className:(0,h.cn)("flex items-center justify-between border-b border-neutral-20 py-3 pl-6 dark:border-neutral-800",{"gap-2 p-2  pl-3 text-neutral-900 dark:border-neutral-700 dark:text-neutral-0":i}),children:[(0,n.jsx)(k.o,{orientation:"horizontal",hideScrollBar:!0,className:(0,h.cn)("hide-scrollbar",T.join(" "),{"max-w-[calc(524px-36px-16px-8px)] overflow-x-auto":i}),children:(0,n.jsx)(I.GenericTabList,{className:(0,h.cn)("flex flex-row gap-2",{"gap-1":i}),children:d.data.map(e=>{let a=z(e.name,t),l=r===e.name;return(0,n.jsxs)(I.GenericTabTrigger,{value:e.name,className:(0,h.cn)("flex cursor-pointer flex-row rounded-[40px] px-4 py-[6px] text-center text-sm font-medium transition-colors",{"gap-2 pr-1.5":a>0,"px-3.5 py-[5px] text-xs":i}),children:[(0,n.jsx)("p",{children:e.name}),a>0&&(0,n.jsx)("p",{className:(0,h.cn)("flex items-center gap-2 rounded-[40px] bg-neutral-30 px-1.5 py-0.5 text-center text-xs font-medium text-neutral-900 transition-colors duration-500 dark:bg-neutral-700 dark:text-neutral-0",{"bg-neutral-0 dark:bg-neutral-800":l}),children:a})]},e.name)})})}),i&&(0,n.jsx)(y.z,{onClick:o,size:"sm",variant:"ghost-secondary",className:"p-[9px]",children:(0,n.jsx)(N.I0,{className:"size-[18px]"})})]}),d.data.map(e=>{var a,s;return(0,n.jsx)(I.GenericTabContent,{className:(0,h.cn)("scrollbar__alt flex h-[174px] flex-row flex-wrap items-center gap-1 gap-y-2 overflow-y-auto px-6 py-[18px]",{hidden:r!==e.name,"m-0 h-[250px] max-w-[524px] gap-1.5 p-3 pr-2":i}),value:e.name,asChild:!0,children:(0,n.jsxs)(k.o,{className:_.join(" "),children:[null===(a=Array.from(null!==(s=l[e.name])&&void 0!==s?s:[]))||void 0===a?void 0:a.map(a=>{var l;return(0,n.jsx)(C,{tag:a,isSelected:(null===(l=t[e.name])||void 0===l?void 0:l.has(a))||!1,onClick:()=>c(e.name,a),isRenderedInsideCanvasModal:i},a)}),e.tags.filter(t=>{var a;return!(null===(a=l[e.name])||void 0===a?void 0:a.has(t))}).map(a=>{var l;return(0,n.jsx)(C,{tag:a,isSelected:(null===(l=t[e.name])||void 0===l?void 0:l.has(a))||!1,onClick:()=>c(e.name,a),isRenderedInsideCanvasModal:i},a)})]})},e.name)})]})},S=e=>Object.keys(e).reduce((t,a)=>{var n,l;return t+(null!==(l=null===(n=e[a])||void 0===n?void 0:n.size)&&void 0!==l?l:0)},0),A={[o.H7.FROM_TEXT]:d.r.TEXT_TO_IMAGE_TAGS_BTN,[o.H7.IMAGE_REMIX]:d.r.IMAGE_REMIX_TAGS_BTN},R=e=>{let{container:t,sideOffset:a,modalControl:s,variant:i="legacy",tagPopoverControlArgs:o,isRenderedInsideCanvasModal:d}=e,c=(0,l.usePathname)(),u=(0,x.m8)()(e=>e.user),{field:m}=(0,b.bc)(o),{value:p,onChange:g}=m,{isModalOpen:v,setIsModalOpen:k}=s,[I,w]=(0,r.useState)("Popular"),[C,_]=(0,r.useState)({});(0,r.useEffect)(()=>{if(!v){let e={};Object.keys(p).forEach(t=>{var a;let n=Array.from(null!==(a=p[t])&&void 0!==a?a:[]).sort();e[t]=new Set(n)}),_(e)}},[v,p]);let T=S(p);return(0,n.jsxs)(j.A6,{open:v,onOpenChange:k,children:[(0,n.jsx)(j.mu,{asChild:!0,children:(0,n.jsxs)(y.z,{variant:"ghost-secondary",className:(0,h.cn)("group/tag gap-2",{"bg-neutral-30 dark:bg-neutral-700":v,"h-9 gap-1.5 px-3 py-2":d&&T>0}),onClick:()=>{var e;A[c]&&(0,f.iC)(A[c],null!==(e=null==u?void 0:u.email)&&void 0!==e?e:"")},size:T>0?"md":d?"icon-lg":"icon-xl",children:[(0,n.jsx)(N.Dg,{className:(0,h.cn)("size-6",{"size-[18px]":d})}),T>0&&(0,n.jsx)("p",{className:(0,h.cn)("flex items-center gap-2 rounded-[40px] bg-neutral-30 px-1.5 py-0.5 text-center text-xs font-medium leading-[18px] text-neutral-900 transition-colors duration-500 group-hover/tag:bg-neutral-0 dark:bg-neutral-700 dark:text-neutral-0 dark:group-hover/tag:bg-neutral-800",{"bg-neutral-0 dark:bg-neutral-800":v,"px-1 py-0":d}),children:T})]})}),(0,n.jsx)(j.nE,{side:"top",align:"end",id:"something",container:t,alignOffset:d?-197:"v2"===i?-164:-207,sideOffset:d?198:a,className:(0,h.cn)("mb-2 flex max-w-5xl flex-wrap dark:bg-neutral-900",{"m-0 max-w-[526px] rounded-none rounded-tl-xl rounded-tr-xl data-[state=open]:h-[310px] data-[state=open]:animate-slideUp dark:bg-neutral-800":d,"max-w-[732px]":"v2"===i}),onInteractOutside:e=>{d&&e.preventDefault()},children:(0,n.jsx)(E,{category:I,tags:p,setTags:g,setCategory:w,sortTags:C,onCloseModal:()=>{k(!1)},isRenderedInsideCanvasModal:d})})]})},G={[o.H7.FROM_TEXT]:d.r.TEXT_TO_IMAGE_GENERATE_BTN,[o.H7.IMAGE_REMIX]:d.r.IMAGE_REMIX_GENERATE_BTN,[o.H7.CANVAS_TOOL]:{[g.A2.TextToImage]:d.r.CANVAS_TEXT_TO_IMAGE_GENERATE_BTN,[g.A2.ImageRemix]:d.r.CANVAS_IMAGE_REMIX_GENERATE_BTN}},P=e=>{let{promptFormHook:t,className:a,tagPopoverControlArgs:o,randomPrompts:d,disabled:g=!1,...b}=e,j=(0,l.usePathname)(),N=(0,r.useRef)(null),[y,k]=(0,r.useState)("v2"===b.variant?105:68),I=(0,m.d)(),w=(0,x.m8)()(e=>e.user),{activeAITool:C}=(0,p.f)(),{isRenderedInsideCanvas:_,modalContainer:T}=(0,c.B)(),z=t.isLoading,E=(0,r.useCallback)(()=>{I.closeModal();let e=G[j];if(e){var a,n;if("string"==typeof e){(0,f.iC)(e,null!==(a=null==w?void 0:w.email)&&void 0!==a?a:"",t.formHook.getValues());return}C&&e[C]&&(0,f.iC)(e[C],null!==(n=null==w?void 0:w.email)&&void 0!==n?n:"",t.formHook.getValues())}},[C,j,t.formHook,I,null==w?void 0:w.email]);return(0,n.jsxs)(n.Fragment,{children:[("legacy"===b.variant||!b.variant)&&(0,n.jsx)("div",{className:(0,h.cn)("absolute inset-x-0 bottom-6 mx-auto w-full px-4",{"bottom-0 p-0":_,className:a}),children:(0,n.jsx)("div",{className:"mx-auto w-full max-w-5xl",children:(0,n.jsx)(i.f,{toolComponents:[(0,n.jsx)(R,{tagPopoverControlArgs:o,modalControl:I,sideOffset:y,isRenderedInsideCanvasModal:_,container:T},"TagPopover"),(0,n.jsx)(v.o,{isRenderedInsideCanvasModal:_,name:t.name,formHook:t.formHook,customRandomPrompts:d},"RandomPromptCTA")],shouldOverrideExpand:I.isModalOpen,isRenderedInsideCanvasModal:_,onHeightChange:e=>k(e+20),onGenerateCallback:E,disabled:g,...t})})}),"v2"===b.variant&&(0,n.jsx)(u.B,{footerStart:(0,n.jsx)("div",{}),darkVariant:"dark-v2",className:a,isDraggingAllowed:!1,generateBtnRef:N,customRandomPrompts:d,promptTextAreaProps:{formHook:t.formHook,name:t.name},shouldFocus:b.shouldFocus,"aria-disabled":g,onFocusComplete:b.onFocusComplete,footerEnd:(0,n.jsxs)("div",{className:"relative flex gap-2",children:[(0,n.jsx)(R,{variant:"v2",sideOffset:y,container:T,modalControl:I,tagPopoverControlArgs:o,isRenderedInsideCanvasModal:_},"TagPopover"),(0,n.jsxs)(s.D,{className:"min-w-[141px]",isLoading:null!=z&&z,children:[(0,n.jsx)(s.D.Button,{ref:N,onClick:e=>{if(z){null==e||e.preventDefault();return}E()},disabled:t.disabled,credits:t.tokenCost,contentClassName:"justify-between gap-[7px]"}),(0,n.jsx)(s.D.Cancel,{handleCancel:t.onCancel})]})]})})]})};P.displayName="ResultViewCTA"},12600:function(e,t,a){a.d(t,{q:function(){return g}});var n=a(97019),l=a.n(n),r=a(2265),s=a(80732),i=a(96994),o=a(85951),d=a(81750),c=a(47802),u=a(14125),m=a(82442),p=a(6498);let x=e=>{let{id:t,isVariation:a,isUpscaled:n}=e,l="".concat(t);return n&&(l+="_upscaled"),a&&(l+="_variated"),"".concat(l,".png")},g=e=>{var t,a,n,g,f;let{id:h,src:v}=e,b=l()(e,"isVariation",!1),j=l()(e,"isUpscaled",!1),N=l()(e,"upscaleSrc",""),y=(0,d.m8)()(e=>e.subscription),{isSubscriptionActive:k}=(0,u.L)(y),I=(0,d.m8)()(e=>e.user),{data:w}=(0,p.j)(),{aggregator:C}=(0,o.O)(),{stripeSubscription:_}=(0,u.L)(y),T=null!==(g=null==_?void 0:null===(a=_.StripePrice)||void 0===a?void 0:null===(t=a.StripeProduct)||void 0===t?void 0:t.name)&&void 0!==g?g:"Free",z=null!==(f=null==_?void 0:null===(n=_.StripePrice)||void 0===n?void 0:n.billingInterval)&&void 0!==f?f:"Free",E=k?"Premium":"Free",{page:S,source:A}=(0,i.V)();return{downloadImage:(0,r.useCallback)(async()=>{let e=j?N:v;if(e)try{(0,c.Sv)(e,x({id:h,isUpscaled:j,isVariation:b}));let t={export_all:!1,page_name:S,total_images_exported:1,user_account_status:E,user_plan:T,user_plan_period:z};C.log(s.H.mixpanel.export.withProperties({...t,email:null==I?void 0:I.email,distinct_id:null==I?void 0:I.id,source:A,tokens_remaining:null==w?void 0:w.platformSpecificTotal})),C.log(s.H.clevertap.export.withProperties({...t,feature:S}))}catch(e){m.Am.error(e.message)}},[null==I?void 0:I.id,S,A,h,v,null==I?void 0:I.email,T,z,E,null==w?void 0:w.platformSpecificTotal,j,N,b,C])}}},95428:function(e,t,a){a.d(t,{K:function(){return l}});var n=a(2265);let l=(e,t)=>{let{maxLength:a=150}=null!=t?t:{},[l,r]=(0,n.useState)(!1),s=e.slice(0,a),i=e.length!==s.length;return{isTruncated:l,toggleTruncatedText:()=>r(!l),text:l?e:s.trimEnd(),hasMoreText:i}}},43897:function(e,t,a){a.d(t,{uS:function(){return I},VI:function(){return p},Qp:function(){return k},HO:function(){return m},GG:function(){return b},_B:function(){return v},Em:function(){return h},i4:function(){return N},CR:function(){return j},$I:function(){return f},ic:function(){return x},l$:function(){return g}});var n=a(2265),l=a(10733);let r=e=>e.reduce((e,t)=>(e[t.id]=t,e),{}),s=(e,t)=>{let a=(0,l.Td)()(t);return(0,n.useMemo)(()=>null==a?void 0:a.find(t=>t.id===e),[e,a])},i={id:-1,isPremium:!1,style_id:-1,style_name:"",style_thumb:"",init_neg_prompt:"",isPopular:!1,init_prompt:""},o={id:-1,isPremium:!1,model_id:-1,name:"",thumb:""},d={id:-1,afterImage:"",beforeImage:"",description:"",displayName:"",isPremium:!1,parameter:""},c={id:-1,name:"",lora_style:"",thumbnail:""},u={id:-1,name:"",lora_style:"",thumbnail:""},m=e=>{var t;return null!==(t=s(e,e=>e.styles))&&void 0!==t?t:i},p=e=>{var t;return null!==(t=s(e,e=>e.models))&&void 0!==t?t:o},x=e=>{var t;return null!==(t=s(e,e=>e.textToImageSviModels))&&void 0!==t?t:o},g=e=>{var t;return null!==(t=s(e,e=>e.textToImageSviStyles))&&void 0!==t?t:i},f=e=>{var t;return null!==(t=s(e,e=>e.textToImageSviControlModes))&&void 0!==t?t:d},h=e=>{var t;return null!==(t=s(e,e=>e.imageRemixStyles))&&void 0!==t?t:i},v=e=>{var t;return null!==(t=s(e,e=>e.imageRemixModels))&&void 0!==t?t:o},b=e=>{var t;return null!==(t=s(e,e=>e.imageRemixControlModes))&&void 0!==t?t:d},j=e=>{var t;return null!==(t=s(e,e=>e.realtimeTextStyles))&&void 0!==t?t:c},N=e=>{var t;return null!==(t=s(e,e=>e.realtimeCanvasStyles))&&void 0!==t?t:u},y=(e,t,a)=>{let l=e(),r=t(),s=a.toLowerCase();return(0,n.useMemo)(()=>{var e;return l.find(e=>e.name.toLowerCase()===s)||(null!==(e=l.find(e=>e.name.toLowerCase().includes(s)))&&void 0!==e?e:r)},[l,r,s])},k=e=>{let t=(0,l.Td)()(e=>e.models),a=p((0,l.Td)()(e=>e.defaultSettings.fromText).modelListId);return y(()=>t,()=>a,e)},I=()=>{let{templates:e}=(0,l.Td)()(e=>e.ideateTemplates);return(0,n.useMemo)(()=>r(e),[e])}},21803:function(e,t,a){a.d(t,{e:function(){return m}});var n=a(89565),l=a(72143),r=a(8127),s=a(54795),i=a(47802);let o=async(e,t,a,n,l,o,d)=>{if(!e)throw Error("No image provided");let c=await (0,r.K$)(e),u={...(0,s.zx)(),image:c,prompt:t,negativePrompt:a,creativity:n,resemblance:l,hdr:o,style_id:d,negative_prompt:a};return(0,i.wh)(u)},d=new AbortController,c=async(e,t,a,n,i,c,u,m)=>{d.signal.aborted&&(d=new AbortController);let p=await o(e,a,n,i,c,u,m),{data:x}=await l.p.post(s.TG.ENHANCE,{body:p,headers:(0,s.kw)(t),signal:d.signal},{throwOnError:!0});return(0,r.RJ)(x)},u=()=>{d.abort()},m=()=>{let e=(0,n.useMutation)(e=>c(e.originalImgSrc,e.isPremium,e.prompt,e.negativePrompt,e.creativity,e.resemblance,e.hdr,e.style_id));return Object.assign(e,{cancelRequest:()=>{e.isLoading&&u()}})}},35127:function(e,t,a){a.d(t,{a:function(){return l}});var n=a(57437);a(2265);let l=e=>{let{className:t}=e;return(0,n.jsxs)("svg",{width:"21",height:"21",fill:"none",viewBox:"0 0 21 21",className:t,children:[(0,n.jsx)("path",{d:"M18.402 10.871v5.833a1.667 1.667 0 0 1-1.666 1.667H5.069a1.667 1.667 0 0 1-1.667-1.667V5.038A1.667 1.667 0 0 1 5.07 3.37h5.833m7.5 10-2.571-2.572a1.667 1.667 0 0 0-2.357 0l-7.572 7.572m4.167-10a1.667 1.667 0 1 1-3.333 0 1.667 1.667 0 0 1 3.333 0Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"m14.234 2.54 4.167 2.678-4.167 2.678V2.54Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})}},69203:function(e,t,a){a.d(t,{A:function(){return l}});var n=a(57437);a(2265);let l=e=>{let{className:t}=e;return(0,n.jsx)("svg",{width:"21",height:"21",fill:"none",viewBox:"0 0 21 21",className:t,children:(0,n.jsx)("path",{d:"m4.234 7.536 3.334-3.333m5 0-8.334 8.334m0 5L17.568 4.203m0 5-8.334 8.334m8.334-3.334-3.334 3.334",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}},12811:function(e,t,a){a.d(t,{d:function(){return l}});var n=a(57437);a(2265);let l=e=>{let{className:t}=e;return(0,n.jsxs)("svg",{width:"21",height:"21",fill:"none",viewBox:"0 0 21 21",className:t,children:[(0,n.jsx)("path",{d:"M11.954 3.867 5.112 11.11c-.258.275-.508.816-.558 1.191L4.245 15c-.108.976.592 1.642 1.559 1.476l2.683-.459c.375-.066.9-.341 1.158-.625l6.842-7.241c1.183-1.25 1.717-2.675-.125-4.417-1.833-1.725-3.225-1.117-4.408.133Z",stroke:"currentColor",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M10.813 5.078a5.105 5.105 0 0 0 4.541 4.292M3.402 19.207h15",stroke:"currentColor",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"})]})}},43183:function(e,t,a){a.d(t,{GenericCarousel:function(){return u},GenericCarouselContent:function(){return m},GenericCarouselItem:function(){return p},GenericCarouselNext:function(){return g},GenericCarouselPrevious:function(){return x},o:function(){return c}});var n=a(57437),l=a(60901),r=a(2265),s=a(8792),i=a(24528),o=a(81149);let d=r.createContext(null),c=()=>{let e=r.useContext(d);if(!e)throw Error("useGenericCarousel must be used within a <GenericCarousel />");return e},u=r.forwardRef((e,t)=>{let{orientation:a="horizontal",opts:s,setApi:o,plugins:c,className:u,children:m,...p}=e,[x,g]=(0,l.Z)({...s,axis:"horizontal"===a?"x":"y"},c),[f,h]=r.useState(!1),[v,b]=r.useState(!1),j=r.useCallback(e=>{e&&(h(e.canScrollPrev()),b(e.canScrollNext()))},[]),N=r.useCallback(()=>{null==g||g.scrollPrev()},[g]),y=r.useCallback(()=>{null==g||g.scrollNext()},[g]),k=r.useCallback(e=>{"ArrowLeft"===e.key?(e.preventDefault(),N()):"ArrowRight"===e.key&&(e.preventDefault(),y())},[N,y]);r.useEffect(()=>{g&&o&&o(g)},[g,o]),r.useEffect(()=>{if(g)return j(g),g.on("reInit",j),g.on("select",j),()=>{null==g||g.off("select",j)}},[g,j]);let I=r.useMemo(()=>({carouselRef:x,api:g,opts:s,orientation:a||((null==s?void 0:s.axis)==="y"?"vertical":"horizontal"),scrollPrev:N,scrollNext:y,canScrollPrev:f,canScrollNext:v}),[g,v,f,x,s,a,y,N]);return(0,n.jsx)(d.Provider,{value:I,children:(0,n.jsx)("div",{ref:t,onKeyDownCapture:k,className:(0,i.cn)("relative",u),role:"region","aria-roledescription":"carousel",...p,children:m})})});u.displayName="GenericCarousel";let m=r.forwardRef((e,t)=>{let{className:a,...l}=e,{carouselRef:r,orientation:s}=c();return(0,n.jsx)("div",{ref:r,className:"size-full overflow-hidden",children:(0,n.jsx)("div",{ref:t,className:(0,i.cn)("flex","horizontal"===s?"-ml-4":"-mt-4 flex-col",a),...l})})});m.displayName="GenericCarouselContent";let p=r.forwardRef((e,t)=>{let{className:a,...l}=e,{orientation:r}=c();return(0,n.jsx)("div",{ref:t,role:"group","aria-roledescription":"slide",className:(0,i.cn)("min-w-0 shrink-0 grow-0 basis-full","horizontal"===r?"pl-4":"pt-4",a),...l})});p.displayName="GenericCarouselItem";let x=r.forwardRef((e,t)=>{let{className:a,variant:l="ghost-secondary",size:r="icon-md",renderIcon:d,...u}=e,{orientation:m,scrollPrev:p,canScrollPrev:x}=c(),g=d||(0,n.jsx)(s.Y4,{className:"size-4"});return(0,n.jsxs)(o.z,{ref:t,variant:l,size:r,className:(0,i.cn)("size-8 absolute rounded-full active:-translate-y-1/2 disabled:pointer-events-none","horizontal"===m?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",a),disabled:!x,onClick:p,...u,children:[g,(0,n.jsx)("span",{className:"sr-only",children:"Previous slide"})]})});x.displayName="GenericCarouselPrevious";let g=r.forwardRef((e,t)=>{let{className:a,variant:l="ghost-secondary",size:r="icon-md",renderIcon:d,...u}=e,{orientation:m,scrollNext:p,canScrollNext:x}=c(),g=d||(0,n.jsx)(s.LZ,{className:"size-4 dark:text-neutral-0"});return(0,n.jsxs)(o.z,{ref:t,variant:l,size:r,className:(0,i.cn)("size-8 absolute rounded-full active:-translate-y-1/2 disabled:pointer-events-none","horizontal"===m?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",a),disabled:!x,onClick:p,...u,children:[g,(0,n.jsx)("span",{className:"sr-only",children:"Next slide"})]})});g.displayName="GenericCarouselNext"},76015:function(e,t,a){a.d(t,{$E:function(){return d},$c:function(){return c},DQ:function(){return f},Yk:function(){return x},Zh:function(){return p},_w:function(){return g},mp:function(){return v},vb:function(){return h}});var n=a(57437),l=a(13304),r=a(2265),s=a(8792),i=a(24528),o=a(81149);let d=l.fC,c=l.xz,u=e=>(0,n.jsx)(l.h_,{...e});u.displayName=l.h_.displayName;let m=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(l.aV,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black bg-opacity-70 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});m.displayName=l.aV.displayName;let p=e=>{let{btnProps:t={},...a}=e,{className:r,variant:d="ghost-secondary",size:c="icon-sm",...u}=t;return(0,n.jsx)(o.z,{variant:d,size:c,className:(0,i.cn)("absolute right-2 top-2",r),asChild:!0,...u,children:(0,n.jsxs)(l.x8,{...a,children:[(0,n.jsx)(s.aM,{className:"h-[18px] w-[18px] stroke-[1.5]"}),(0,n.jsx)("span",{className:"sr-only",children:"Close"})]})})};p.displayName=l.x8.displayName;let x=r.forwardRef((e,t)=>{let{className:a,children:r,onModalClose:s,onCloseAutoFocus:o,disableAnimation:d=!1,container:c=document.body,...p}=e;return(0,n.jsxs)(u,{container:c,children:[(0,n.jsx)(m,{}),(0,n.jsx)(l.VY,{onCloseAutoFocus:e=>{null==s||s(),null==o||o(e)},ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 flex translate-x-[-50%] translate-y-[-50%] flex-col justify-between rounded-[18px] bg-neutral-0 text-neutral-600 shadow-lg transition-all duration-200 dark:bg-neutral-900 dark:text-neutral-40",{"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%]":!d},a),...p,children:r})]})});x.displayName=l.VY.displayName;let g=e=>{let{className:t,...a}=e;return(0,n.jsx)("div",{className:(0,i.cn)("flex h-12 flex-col justify-center gap-1 border-b border-neutral-20 p-2 pl-4 transition-all duration-500 dark:border-neutral-800",t),...a})};g.displayName="GenericModalHeader";let f=e=>{let{className:t,...a}=e;return(0,n.jsx)("div",{className:(0,i.cn)("flex h-full flex-1 flex-col gap-1",t),...a})};f.displayName="GenericModalBody";let h=e=>{let{className:t,...a}=e;return(0,n.jsx)("div",{className:(0,i.cn)("flex h-fit items-center justify-end p-6 pt-0",t),...a})};h.displayName="GenericModalFooter";let v=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(l.Dx,{ref:t,className:(0,i.cn)("font-medium text-neutral-900 transition-all duration-500 dark:text-neutral-0",a),...r})});v.displayName=l.Dx.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)(l.dk,{ref:t,className:(0,i.cn)("text-sm text-neutral-600 dark:text-neutral-40",a),...r})}).displayName=l.dk.displayName},19422:function(e,t,a){a.d(t,{d:function(){return l}});var n=a(2265);let l=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],[t,a]=(0,n.useState)(e);return{isModalOpen:t,closeModal:()=>a(!1),openModal:()=>a(!0),setIsModalOpen:a,toggleModal:()=>a(e=>!e)}}},80163:function(e,t,a){a.d(t,{f:function(){return s}});var n=a(39099),l=a(46409),r=a(50473);let s=(0,n.Ue)(e=>({activeAITool:null,showToolsSidebar:!1,showLayersSidebar:!1,showToolsModal:!1,designs:[],sortBy:l.R.LAST_EDITED,remixBaseImage:null,isNotSaved:!1,canvasMode:r.DZ.Select,prevProjectId:null,setActiveAITool:t=>e(()=>({activeAITool:t})),setShowToolsSidebar:t=>e(()=>({showToolsSidebar:t})),setShowLayersSidebar:t=>e(()=>({showLayersSidebar:t})),closeAllSidebars:()=>e(()=>({showToolsSidebar:!1,showLayersSidebar:!1})),setShowToolsModal:t=>e(()=>({showToolsModal:t})),setDesigns:t=>e(()=>({designs:t})),updateDesign:t=>e(e=>({designs:e.designs.map(e=>e.id===t.id?t:e)})),renameDesign:(t,a)=>e(e=>({designs:e.designs.map(e=>e.id===t?{...e,title:a}:e)})),setSortBy:t=>e(()=>({sortBy:t})),deleteDesign:t=>e(e=>({designs:e.designs.filter(e=>e.id!==t)})),setRemixBaseImage:t=>e(()=>({remixBaseImage:t})),setIsNotSaved:t=>e(()=>({isNotSaved:t})),setCanvasMode:t=>e(()=>({canvasMode:t})),setPrevProjectId:t=>e(()=>({prevProjectId:t}))}))},67259:function(e,t,a){a.d(t,{Qt:function(){return m},hB:function(){return x}});var n=a(14643),l=a(20920),r=a(39099),s=a(89291),i=a(22241),o=a(52247),d=a(47802);let c=(e,t)=>{if(!e||!t)return!1;let a=Object.keys(e),n=Object.keys(t);return a.length===n.length&&a.every(a=>{let n=e[a],l=t[a];return n&&l&&(0,d.EE)(n,l)})},u=e=>(null==e?void 0:e.trim().toLowerCase())||"",m=(e,t)=>{var a,n,l,r;return!!e&&!!t&&c(e.tags,t.tags)&&e.aspect_ratio===t.aspect_ratio&&e.cfg===t.cfg&&e.high_res_results===t.high_res_results&&u(e.negative_prompt)===u(t.negative_prompt)&&u(e.prompt)===u(t.prompt)&&e.seed===t.seed&&(null===(a=e.style)||void 0===a?void 0:a.id)===(null===(n=t.style)||void 0===n?void 0:n.id)&&(null===(l=e.model)||void 0===l?void 0:l.id)===(null===(r=t.model)||void 0===r?void 0:r.id)},p=e=>{let{collections:t,selectedCollectionId:a}=e;return a?t.findIndex(e=>e.id===a):-1},x=e=>(0,r.Ue)()((0,i.n)((0,s.mW)((t,a)=>({collections:[],selectedImageId:void 0,selectedCollectionId:void 0,setSelectedCollection:e=>{t(t=>{let a=t.collections.find(t=>t.id===e.id);a&&(t.selectedCollectionId=a.id,t.selectedImageId=a.images[0].id)})},setSelectedImage:e=>{t(t=>{let a=t.collections.find(e=>e.id===t.selectedCollectionId);a&&a.images.find(t=>t.id===e)&&(t.selectedImageId=e)})},addImagesToCollection:(r,s,i)=>{t(t=>{let o=p(a()),d=(0,n.cA)(s),c=r.map(e=>({id:(0,l.Z)(),...e,...i?{originalSrc:i.src,originalImageId:i.id,isVariation:!!i}:{}}));if(-1===o||!t.collections[o]){let e=(0,n.cA)({id:(0,l.Z)(),images:c,settings:s});t.collections.unshift(e),t.selectedCollectionId=e.id,t.selectedImageId=e.images[0].id;return}let u=t.collections.findIndex(t=>e(t.settings,d));if(-1!==u)t.collections[u].images.unshift(...c);else{let e=(0,n.P2)({id:(0,l.Z)(),images:c,settings:s});t.collections.unshift(e),t.selectedCollectionId=e.id,t.selectedImageId=e.images[0].id}})},addImageToCollectionWithLoading:(r,s)=>{let i=(0,l.Z)();return t(t=>{let o=p(a()),d=(0,n.cA)(r),c={id:i,src:"",...s?{originalSrc:s.src,originalImageId:s.id,isVariation:!!s}:{},isLoading:!0};if(-1===o||!t.collections[o]){let e=(0,n.cA)({id:(0,l.Z)(),images:[c],settings:r});t.collections.unshift(e),t.selectedCollectionId=e.id,t.selectedImageId=e.images[0].id;return}let u=t.collections.findIndex(t=>e(t.settings,d));if(-1!==u)t.collections[u].images.unshift(c);else{let e=(0,n.P2)({id:(0,l.Z)(),images:[c],settings:r});t.collections.unshift(e),t.selectedCollectionId=e.id,t.selectedImageId=e.images[0].id}}),{imageId:i,collectionId:""}},createCollectionWithSettings:e=>{let a=(0,l.Z)();return t(t=>{let l=(0,n.P2)({id:a,images:[],settings:e});t.collections.unshift(l)}),{collectionId:a}},addImageToGivenCollectionWithLoading:(e,a)=>{let n=(0,l.Z)();return t(t=>{let l={id:n,src:"",...a?{originalSrc:a.src,originalImageId:a.id,isVariation:!!a}:{},isLoading:!0},r=p({collections:t.collections,selectedCollectionId:e});-1!==r&&t.collections[r]&&t.collections[r].images.unshift(l)}),{imageId:n,collectionId:""}},deleteGivenCollection(e){t(t=>{let a=p({collections:t.collections,selectedCollectionId:e});-1!==a&&t.collections[a]&&t.collections.splice(a,1)})},completeImageGenerationLoadingOnGivenCollection(e){let{image:a,imageId:n,collectionId:l}=e;t(e=>{let t=p({collections:e.collections,selectedCollectionId:l});if(-1===t||!e.collections[t])return;let r=e.collections[t].images.find(e=>e.id===n);r&&(r.isLoading=!1,r.src=a.src)})},deleteLoadingImageFromGivenCollection:e=>{let{imageId:a,collectionId:n}=e;t(e=>{let t=p({collections:e.collections,selectedCollectionId:n});-1!==t&&e.collections[t]&&(e.collections[t].images=e.collections[t].images.filter(e=>e.id!==a),e.collections[t].images.length>0||e.collections.splice(t,1))})},setImageLoadingOnGivenCollection:(e,a,n)=>{t(t=>{let l=p({collections:t.collections,selectedCollectionId:n});if(-1===l||!t.collections[l])return;let r=t.collections[l].images.find(t=>t.id===e);r&&(r.isLoading=a)})},setImageUpscaleOnGivenCollection:(e,a,n,l)=>{t(t=>{let r=p({collections:t.collections,selectedCollectionId:l});if(-1===r||!t.collections[r])return;let s=t.collections[r].images.find(t=>t.id===e);s&&(s.upscaleSrc=a,s.isUpscaled=n)})},deleteImageFromGivenCollection:e=>{let{imageId:a,collectionId:n}=e;t(e=>{let t=p({collections:e.collections,selectedCollectionId:n});-1!==t&&e.collections[t]&&(e.collections[t].images=e.collections[t].images.filter(e=>e.id!==a),e.collections[t].images.length>0||(e.collections=e.collections.filter(a=>{var n;return a.id!==(null===(n=e.collections[t])||void 0===n?void 0:n.id)})))})},setFocusOfOriginalImageOnGivenCollection:(e,a,n)=>{t(t=>{let l=p({collections:t.collections,selectedCollectionId:n});if(-1===l||!t.collections[l])return;let r=t.collections[l].images.find(t=>t.id===e);r&&(r.isFocused=a)})},completeImageGenerationLoading(e){let{image:n,imageId:l}=e;t(e=>{e.collections.forEach(e=>{let t=e.images.find(e=>e.id===l);t&&(t.isLoading=!1,t.src=n.src,n.randomSeed&&(t.randomSeed=n.randomSeed))});let t=p(a());if(-1===t)return;let r=e.collections[t].images.find(e=>e.id===l);r&&(r.src=n.src,r.isLoading=!1,n.randomSeed&&(r.randomSeed=n.randomSeed))})},deleteLoadingImage(e){t(t=>{var n;let l=p(a());-1!==l&&(t.collections[l].images=t.collections[l].images.filter(t=>t.id!==e),t.collections[l].images.length>0||(t.collections.splice(l,1),t.selectedCollectionId=null===(n=t.collections[0])||void 0===n?void 0:n.id))})},resetCollectionStore:()=>{t(e=>{e.collections=[],e.selectedCollectionId=void 0,e.selectedImageId=void 0})},setImageLoading:(e,n)=>{t(t=>{t.collections.forEach(t=>{let a=t.images.find(t=>t.id===e);a&&(a.isLoading=n)});let l=p(a());if(-1===l)return;let r=t.collections[l].images.find(t=>t.id===e);r&&(r.isLoading=n)})},setImagesUpscale:(e,n,l)=>{t(t=>{t.collections.forEach(t=>{t.images.forEach(t=>{e===t.id&&(t.upscaleSrc=n,t.isUpscaled=l)})});let r=p(a());-1!==r&&t.collections[r].images.forEach(t=>{e===t.id&&(t.upscaleSrc=n,t.isUpscaled=l)})})},deleteImage:e=>{t(t=>{var n;t.collections.forEach(t=>{t.images=t.images.filter(t=>t.id!==e)}),e===t.selectedImageId&&(t.selectedImageId=void 0);let l=p(a());-1!==l&&(t.collections[l].images=t.collections[l].images.filter(t=>t.id!==e),t.collections[l].images.length>0||(t.collections=t.collections.filter(e=>{var a;return e.id!==(null===(a=t.collections[l])||void 0===a?void 0:a.id)}),t.selectedCollectionId=null===(n=t.collections[0])||void 0===n?void 0:n.id))})},setFocusOfOriginalImage:(e,n)=>{t(t=>{let l=p(a());if(-1===l)return;let r=t.collections[l].images.find(t=>t.id===e);r&&(r.isFocused=n)})}}),{enabled:!o.v.IS_PROD_DEPLOYMENT&&(0,d.Ep)().isBrowser})))},50473:function(e,t,a){var n,l,r,s,i,o;a.d(t,{A2:function(){return n},DZ:function(){return r},n:function(){return l}}),(s=n||(n={})).TextToImage="text-to-image",s.ImageRemix="image-remix",(i=l||(l={})).Saving="saving",i.Saved="saved",i.Error="error",i.Idle="idle",(o=r||(r={})).Pan="pan",o.Select="select",o.GenerativeFill="generative-fill"},10579:function(e,t,a){a.d(t,{SB:function(){return i},VO:function(){return o},X2:function(){return s},ZQ:function(){return l}});var n,l,r=a(59772);let s=r.z.object({id:r.z.number(),style_id:r.z.number(),style_name:r.z.string(),style_thumb:r.z.string(),init_prompt:r.z.string().optional(),init_neg_prompt:r.z.string().optional(),isPopular:r.z.boolean().optional()}),i=r.z.object({id:r.z.number(),model_id:r.z.number(),name:r.z.string(),thumb:r.z.string(),init_prompt:r.z.string().optional(),init_neg_prompt:r.z.string().optional(),isPopular:r.z.boolean().optional(),hdr_toggle:r.z.boolean().optional(),steps_enabled:r.z.boolean().optional(),cfg_enabled:r.z.boolean().optional(),aspect_ratio_enabled:r.z.boolean().optional()});(n=l||(l={})).ALPHA="alpha",n.BETA="beta";let o=r.z.object({id:r.z.number(),name:r.z.string(),lora_style:r.z.string(),thumbnail:r.z.string()})}}]);